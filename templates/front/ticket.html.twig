{% extends '/front/base.html.twig' %}

{% block body %}
<style>
.search-bar {
    display: flex;
}

.search-bar input[type="text"] {
    padding: 10px;
    border: 1px solid #810f12;
    border-radius: 5px;
}

.search-bar button {
    padding: 10px 20px;
    background-color: #810f12;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.search-bar button:hover {
    background-color: #6b0d10;
}

    .search-form-container {
        margin-top: 125px; /* Adjust as needed */
    }

    .search-bar {
        display: flex;
        align-items: center;
    }

    .search-bar input[type="text"],
    .search-bar button {
        margin-right: 10px; /* Adjust as needed */
    }

</style>

			<!-- start banner Area -->
			<section class="banner-area relative" id="home">	
				<div class="overlay overlay-bg"></div>
				<div class="container">
					<div class="row d-flex align-items-center justify-content-center">
						<div class="about-content col-lg-12">
							<h1 class="text-white">
								Your Panier
							</h1>	
							<p class="text-white link-nav"><a href="index.html">Home </a>  <span class="lnr lnr-arrow-right"></span>  <a href="ticket.html"> Panier</a></p>
						</div>											
					</div>
				</div>
			</section>
			<!-- End banner Area -->	


			<!-- Start upcoming-exibition Area -->
			<section class="upcoming-exibition-area section-gap">
				<div class="container">
					<div class="row d-flex justify-content-center">
						<div class="menu-content pb-70 col-lg-8">
                        
							{% if paniers is empty %}
    <div class="title text-center">
        <h1 class="mb-10">Your panier is empty</h1>
<a  href="{{path('app_test55',{page_path:'gallery.html.twig'})}}" onclick="checkrecherch()" style="display: inline-block; padding: 10px 20px; font-size: 18px; color: #810f12; background-color: #fff; border-radius: 5px; text-decoration: none;">Go to the store</a>

    </div>
    
{% else %}

 {% set sum = 0 %}
  {% set total = 0 %}
    {% for panier in paniers %}
      {% set oeuvre = panier.getIdOeuvre() %}
        {% set sum = sum + panier.quantity %}
        {% set total = total + oeuvre.getPrix() * panier.getQuantity() %}
       
    {% endfor %}
  
    <div class="title text-center">
   
    <h1 class="mb-10">Welcome To Your Panier ( {{sum}})</h1>
   
    <p>You have {{ sum }} items in your panier.</p>
    <form  action="{{ path('app_all_com', {'qunatity': sum  ,'total':total  } ) }}">
    <button type="submit" class="btn btn-primary" style="background-color: #8B0000; border-color: #8B0000; color: #fff;"   >
        validate panier 
    </button>
    </form>
    
      <form action="{{ path('app_order') }}" method="GET">
       <div class="search-bar">
        <button  onclick="checkrecherch()" type="submit">Order By Price</button> 
    </div>
    </form>
    




</div>
  

{% endif %}
<!-- Search input field -->

 
						</div>
                        {% if paniers is not empty %}
                    <div class="search-form-container">
    <form action="{{ path('app_recherch') }}" method="GET">
        <div class="search-bar">
            <input type="text" id="name" name="name" placeholder="Search by name">
            <button onclick="checkrecherch()" type="submit">Search</button>
        </div>
    </form>
    {% endif %}
</div>
                       
 
					</div>	
                     				
					<div class="row">
                    
                    
						{% for panierItem in paniers %}
				
			          {% set oeuvre = panierItem.getIdOeuvre() %}
                            {% if oeuvre is not null %}
                              <div class="col-lg-4 col-md-6 single-exhibition">
                               <div class="thumb">
                                       <img class="img-fluid"  src="{{ asset(oeuvre.getLienimg()) }}" alt="{{ oeuvre.getTitre() }}">
                                     </div>
                                        <p class="date">{{ oeuvre.getDate()|date('Y-m-d ') }}</p>
                                      <a href="#"><h4> Name Oeuvre : {{ oeuvre.getTitre() }}</h4></a>
                             <p>
                                    </p>
									 <a ><h4>Qantity : {{ panierItem.getQuantity() }} </h4></a>	
									  <div class="meta-bottom d-flex justify-content-start">
                          <a ><h4>Price piece:{{ oeuvre.getPrix() }} $</h4></a>	
                         </div>
                          <div class="meta-bottom d-flex justify-content-start">
                          <p class="price">Price Totale:{{ oeuvre.getPrix() * panierItem.getQuantity() }} $</p>
                         </div>
				
		   <p>
                                    </p>
		 <form action="{{ path('app_panierdelete', {'idPanier': panierItem.getIdPanier()}) }}" method="POST">
            <button type="submit" class="btn btn-danger" onclick="deleteOrder()">Delete</button>
        </form>
		<p></p>

						  								
                        </div>
						{% endif %}
                     {% endfor %}
                    </div>
                    
					 	
              
																
					
				</div>	
			</section>
			<!-- End upcoming-exibition Area -->
			<script>
    function checkOrder() {
        // Display an alert for checking orders
        alert("Order checked successfully!");
    }

    function deleteOrder() {
        // Display an alert for deleting orders
        alert("Order deleted successfully!");
    }
     function checkrecherch() {
  
        document.getElementById('name').submit();
     
        
    }


</script>



	
			


{% endblock  %}

